<html>
<title>
Chat Wall
</title>

<body>
<h2>Welcome to chat wall</h2>

<div id="message_box" style="margin-bottom:20px;border:1px solid grey;width:500px;padding:10px;min-height:200px;max-height:500px;overflow:scroll;"></div>

<textarea rows="1" cols="50" id="text_box"></textarea>
<button onClick="onSend()">Send</button>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

<script>
function onSend() {
  const url = "http://localhost:8080/send_message";
  var element_text_box = document.getElementById("text_box");
  var text = element_text_box.value;

  element_text_box.value = "";

  $.post(url, {message: text}, function(data, status) {
      data.replace(/\r?\n/g, '<br />');
      document.getElementById("message_box").innerHTML = data;
    });
}
</script>
</body>
</html>
